{"ast":null,"code":"var _jsxFileName = \"D:\\\\react\\\\bookstore\\\\src\\\\components\\\\Rss.js\";\nimport React, { Component } from \"react\";\nimport ReactDOM from 'react-dom';\n\nclass rss extends Component {\n  constructor() {\n    super();\n    this.myref = React.createRef();\n    this.xhr = {};\n    this.obj = {\n      divinner: {},\n      getNews: () => {\n        this.xhr = new XMLHttpRequest();\n        this.xhr.onreadystatechange = this.obj.processNews; // Using a cors proxy to access the rss feed\n\n        this.xhr.open(\"GET\", \"https://cors-anywhere.herokuapp.com/https://blog.bookstellyouwhy.com/rss.xml\", true);\n        this.xhr.send();\n      },\n      processNews: () => {\n        if (this.xhr.readyState == 4 && this.xhr.status == 200) {\n          let root = this.xhr.responseXML.documentElement;\n\n          for (var i = 0; i < 5; i++) {\n            let items = root.getElementsByTagName(\"item\")[i];\n            let title = root.getElementsByTagName(\"title\")[i];\n            let link = root.getElementsByTagName(\"link\")[i];\n            let ele = document.createElement(\"a\");\n            ele.innerHTML = title.firstChild.nodeValue;\n            ele.href = link.firstChild.nodeValue;\n            let eled = document.createElement(\"div\");\n            eled.appendChild(ele);\n            eled.className = \"marquee\";\n            console.log(eled);\n            this.obj.divinner.innerHTML = \"\";\n            this.obj.divinner.appendChild(eled);\n          }\n        }\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.obj.divinner = this.myref.current;\n    this.obj.divinner.style.left = window.innerWidth - 5 + \"px\";\n    this.obj.getNews();\n    setInterval(this.obj.getNews, 10000);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.myref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    });\n  }\n\n}\n\nexport default rss;","map":{"version":3,"sources":["D:/react/bookstore/src/components/Rss.js"],"names":["React","Component","ReactDOM","rss","constructor","myref","createRef","xhr","obj","divinner","getNews","XMLHttpRequest","onreadystatechange","processNews","open","send","readyState","status","root","responseXML","documentElement","i","items","getElementsByTagName","title","link","ele","document","createElement","innerHTML","firstChild","nodeValue","href","eled","appendChild","className","console","log","componentDidMount","current","style","left","window","innerWidth","setInterval","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,WAArB;;AAEA,MAAMC,GAAN,SAAkBF,SAAlB,CAA4B;AACxBG,EAAAA,WAAW,GAAG;AACZ;AACA,SAAKC,KAAL,GAAaL,KAAK,CAACM,SAAN,EAAb;AACA,SAAKC,GAAL,GAAW,EAAX;AACA,SAAKC,GAAL,GAAW;AACTC,MAAAA,QAAQ,EAAE,EADD;AAETC,MAAAA,OAAO,EAAG,MACV;AACI,aAAKH,GAAL,GAAW,IAAII,cAAJ,EAAX;AACA,aAAKJ,GAAL,CAASK,kBAAT,GAA+B,KAAKJ,GAAL,CAASK,WAAxC,CAFJ,CAGI;;AACA,aAAKN,GAAL,CAASO,IAAT,CAAc,KAAd,EAAoB,8EAApB,EAAmG,IAAnG;AACA,aAAKP,GAAL,CAASQ,IAAT;AACH,OATQ;AAUTF,MAAAA,WAAW,EAAG,MACd;AACI,YAAI,KAAKN,GAAL,CAASS,UAAT,IAAuB,CAAvB,IAA4B,KAAKT,GAAL,CAASU,MAAT,IAAmB,GAAnD,EACA;AACI,cAAIC,IAAI,GAAG,KAAKX,GAAL,CAASY,WAAT,CAAqBC,eAAhC;;AAEA,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA2B;AAC1B,gBAAIC,KAAK,GAAGJ,IAAI,CAACK,oBAAL,CAA0B,MAA1B,EAAkCF,CAAlC,CAAZ;AACA,gBAAIG,KAAK,GAAGN,IAAI,CAACK,oBAAL,CAA0B,OAA1B,EAAmCF,CAAnC,CAAZ;AACA,gBAAII,IAAI,GAAGP,IAAI,CAACK,oBAAL,CAA0B,MAA1B,EAAkCF,CAAlC,CAAX;AACA,gBAAIK,GAAG,GAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAV;AACAF,YAAAA,GAAG,CAACG,SAAJ,GAAgBL,KAAK,CAACM,UAAN,CAAiBC,SAAjC;AACAL,YAAAA,GAAG,CAACM,IAAJ,GAAWP,IAAI,CAACK,UAAL,CAAgBC,SAA3B;AAEA,gBAAIE,IAAI,GAAGN,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAX;AACAK,YAAAA,IAAI,CAACC,WAAL,CAAiBR,GAAjB;AACAO,YAAAA,IAAI,CAACE,SAAL,GAAiB,SAAjB;AACAC,YAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AAEA,iBAAKzB,GAAL,CAASC,QAAT,CAAkBoB,SAAlB,GAA8B,EAA9B;AACA,iBAAKrB,GAAL,CAASC,QAAT,CAAkByB,WAAlB,CAA8BD,IAA9B;AACH;AACD;AACJ;AAjCQ,KAAX;AAmCD;;AAGDK,EAAAA,iBAAiB,GAAG;AAChB,SAAK9B,GAAL,CAASC,QAAT,GAAoB,KAAKJ,KAAL,CAAWkC,OAA/B;AACA,SAAK/B,GAAL,CAASC,QAAT,CAAkB+B,KAAlB,CAAwBC,IAAxB,GAA+BC,MAAM,CAACC,UAAP,GAAoB,CAApB,GAAwB,IAAvD;AACA,SAAKnC,GAAL,CAASE,OAAT;AACAkC,IAAAA,WAAW,CAAC,KAAKpC,GAAL,CAASE,OAAV,EAAkB,KAAlB,CAAX;AACH;;AAEDmC,EAAAA,MAAM,GAAG;AACP,wBACM;AAAK,MAAA,GAAG,EAAI,KAAKxC,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADN;AAID;;AAvDuB;;AA0D5B,eAAeF,GAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport ReactDOM from 'react-dom';\r\n\r\nclass rss extends Component {\r\n    constructor() {\r\n      super();\r\n      this.myref = React.createRef();\r\n      this.xhr = {}\r\n      this.obj = {\r\n        divinner: {},\r\n        getNews : () =>\r\n        {\r\n            this.xhr = new XMLHttpRequest();\r\n            this.xhr.onreadystatechange =  this.obj.processNews;\r\n            // Using a cors proxy to access the rss feed\r\n            this.xhr.open(\"GET\",\"https://cors-anywhere.herokuapp.com/https://blog.bookstellyouwhy.com/rss.xml\",true);\r\n            this.xhr.send();\r\n        },\r\n        processNews : () =>\r\n        {\r\n            if (this.xhr.readyState == 4 && this.xhr.status == 200)\r\n            {\r\n                let root = this.xhr.responseXML.documentElement;\r\n\r\n                for (var i = 0; i < 5; i++){\r\n\t                let items = root.getElementsByTagName(\"item\")[i];\r\n\t                let title = root.getElementsByTagName(\"title\")[i];\r\n\t                let link = root.getElementsByTagName(\"link\")[i];\r\n\t                let ele = document.createElement(\"a\");\r\n\t                ele.innerHTML = title.firstChild.nodeValue;\r\n\t                ele.href = link.firstChild.nodeValue;\r\n\t               \r\n\t                let eled = document.createElement(\"div\");\r\n\t                eled.appendChild(ele);\r\n\t                eled.className = \"marquee\";\r\n\t                console.log(eled);\r\n\r\n\t                this.obj.divinner.innerHTML = \"\";\r\n\t                this.obj.divinner.appendChild(eled);\r\n\t            }\r\n            }\r\n        }\r\n     };\r\n    }\r\n \r\n\r\n    componentDidMount() {\r\n        this.obj.divinner = this.myref.current;\r\n        this.obj.divinner.style.left = window.innerWidth - 5 + \"px\";\r\n        this.obj.getNews();\r\n        setInterval(this.obj.getNews,10000);\r\n    }\r\n \r\n    render() {\r\n      return (\r\n            <div ref = {this.myref}>\r\n            </div>\r\n      );\r\n    }\r\n  }\r\n\r\nexport default rss;"]},"metadata":{},"sourceType":"module"}