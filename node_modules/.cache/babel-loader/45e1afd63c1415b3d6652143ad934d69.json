{"ast":null,"code":"var _jsxFileName = \"D:\\\\react\\\\bookstore\\\\src\\\\components\\\\Rss.js\";\nimport React from \"react\";\nvar sectionStyle = {\n  fontFamily: \"Handlee\",\n  color: \"#4A1137\",\n  fontSize: \"25px\"\n};\n\nclass Rss extends React.Component {\n  constructor() {\n    super();\n    this.myref = React.createRef();\n    this.request = {};\n    this.obj = {\n      state: {\n        name: '',\n        url: '',\n        description: ''\n      },\n      getNews: () => {\n        this.request = new XMLHttpRequest();\n        this.request.onreadystatechange = this.obj.processNews;\n        this.request.open(\"GET\", \"https://api.rss2json.com/v1/api.json?rss_url=https%3A%2F%2Fblog.bookstellyouwhy.com%2Frss.xml\", true);\n        this.request.send();\n      },\n      processNews: () => {\n        if (this.request.readyState == 4 && this.request.status == 200) {\n          var myObj = JSON.parse(this.request.responseText);\n          var feed = document.getElementById(\"feed\");\n\n          for (var i = 0; i < myObj.items.length; i++) {\n            console.log(myObj.items[i].title);\n            console.log(myObj.items[i].link);\n            this.obj.state.name = myObj.items[i].title;\n            this.obj.state.url = myObj.items[i].link;\n            this.obj.state.description = myObj.items[i].description;\n            var anchor = document.createElement(\"a\");\n            anchor.align = \"center\";\n            anchor.innerHTML = this.obj.state.name;\n            anchor.class = \"a\";\n            anchor.href = this.obj.state.url;\n            var br = document.createElement(\"br\");\n            var desc = document.createElement(\"p\");\n            var desc1 = this.obj.state.description;\n            var desc2 = desc1.substring(desc1.indexOf(\"<p>\"), desc1.length); // console.log(desc2)\n\n            desc.innerHTML = desc2;\n            feed.appendChild(br);\n            feed.appendChild(anchor);\n            feed.appendChild(desc);\n          }\n        }\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.obj.getNews();\n    setInterval(this.obj.getNews, 10000);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"feed\",\n      style: sectionStyle,\n      ref: this.myref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 4\n      }\n    });\n  }\n\n}\n\nexport default Rss;","map":{"version":3,"sources":["D:/react/bookstore/src/components/Rss.js"],"names":["React","sectionStyle","fontFamily","color","fontSize","Rss","Component","constructor","myref","createRef","request","obj","state","name","url","description","getNews","XMLHttpRequest","onreadystatechange","processNews","open","send","readyState","status","myObj","JSON","parse","responseText","feed","document","getElementById","i","items","length","console","log","title","link","anchor","createElement","align","innerHTML","class","href","br","desc","desc1","desc2","substring","indexOf","appendChild","componentDidMount","setInterval","render"],"mappings":"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","sourcesContent":["import React from \"react\"\r\n\r\nvar sectionStyle = {\r\n\tfontFamily: \"Handlee\",\r\n    color: \"#4A1137\",\r\n    fontSize: \"25px\"\r\n}\r\n\r\n\r\nclass Rss extends React.Component{\r\n\tconstructor(){\r\n\t\tsuper();\r\n\t\tthis.myref = React.createRef();\r\n\t\tthis.request = {}\r\n\t\tthis.obj = {\r\n\t\t\tstate: {\r\n\t\t\t\tname: '',\r\n\t\t\t\turl: '',\r\n\t\t\t\tdescription: ''\r\n\t\t\t},\r\n\t\t\tgetNews: () => {\r\n\t\t\t\tthis.request = new XMLHttpRequest()\r\n\t\t\t\tthis.request.onreadystatechange = this.obj.processNews\r\n\t\t\t\tthis.request.open(\"GET\", \"https://api.rss2json.com/v1/api.json?rss_url=https%3A%2F%2Fblog.bookstellyouwhy.com%2Frss.xml\", true);\r\n\t    \t\tthis.request.send();\r\n\t\t\t},\r\n\t\t\tprocessNews: () => {\r\n\t\t\t\tif(this.request.readyState == 4 && this.request.status == 200){\r\n\t\t\t\t\tvar myObj = JSON.parse(this.request.responseText)\r\n\t\t\t\t\tvar feed = document.getElementById(\"feed\")\r\n\t\t\t\t\tfor (var i=0; i < myObj.items.length; i++) {\r\n\t\t\t\t\t\tconsole.log(myObj.items[i].title)\r\n\t\t\t\t\t\tconsole.log(myObj.items[i].link)\r\n\r\n\t\t        \t\tthis.obj.state.name = myObj.items[i].title\r\n\t\t          \t\tthis.obj.state.url = myObj.items[i].link\r\n\t\t          \t\tthis.obj.state.description = myObj.items[i].description\r\n\t\t        \t\t\t \r\n\t\t      \t\t\tvar anchor = document.createElement(\"a\")\r\n\t\t      \t\t\tanchor.align = \"center\"\r\n\t\t      \t\t\tanchor.innerHTML = this.obj.state.name\r\n\t\t      \t\t\tanchor.class = \"a\"\r\n\t\t      \t\t\tanchor.href = this.obj.state.url\r\n\t\t      \t\t\tvar br = document.createElement(\"br\")\r\n\r\n\t\t      \t\t\tvar desc = document.createElement(\"p\")\r\n\t\t      \t\t\tvar desc1 = this.obj.state.description\r\n\t\t      \t\t\tvar desc2 = desc1.substring(desc1.indexOf(\"<p>\"), desc1.length)\r\n\t                    // console.log(desc2)\r\n\t                    desc.innerHTML = desc2;\r\n\t\t      \t\t\tfeed.appendChild(br)\r\n\t\t      \t\t\tfeed.appendChild(anchor)\r\n\t\t      \t\t\tfeed.appendChild(desc)\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\t\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.obj.getNews();\r\n        setInterval(this.obj.getNews,10000);\r\n  \t}\r\n\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<div id=\"feed\" style = { sectionStyle } ref = {this.myref}></div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Rss"]},"metadata":{},"sourceType":"module"}