{"ast":null,"code":"var _jsxFileName = \"D:\\\\react\\\\bookstore\\\\src\\\\components\\\\Rss.js\";\nimport React, { Component } from \"react\";\nimport ReactDOM from 'react-dom';\n\nclass rss extends Component {\n  constructor() {\n    super();\n    this.myref = React.createRef();\n    this.xhr = {};\n    this.obj = {\n      i: 0,\n      divinner: {},\n      getNews: () => {\n        this.xhr = new XMLHttpRequest();\n        this.xhr.onreadystatechange = this.obj.processNews; // Using a cors proxy to access the rss feed\n\n        this.xhr.open(\"GET\", \"https://cors-anywhere.herokuapp.com/https://blog.bookstellyouwhy.com/rss.xml\", true);\n        this.xhr.send();\n      },\n      processNews: () => {\n        if (this.xhr.readyState == 4 && this.xhr.status == 200) {\n          let root = this.xhr.responseXML.documentElement;\n          let items = root.getElementsByTagName(\"item\")[i];\n          let title = root.getElementsByTagName(\"title\")[i];\n          let link = root.getElementsByTagName(\"link\")[i];\n          let ele = document.createElement(\"a\");\n          ele.innerHTML = title.firstChild.nodeValue;\n          ele.href = link.firstChild.nodeValue;\n          let eled = document.createElement(\"div\");\n          eled.appendChild(ele);\n          eled.className = \"marquee\";\n          console.log(eled);\n          this.obj.divinner.innerHTML = \"\";\n          this.obj.divinner.appendChild(eled);\n        }\n\n        i = i + 1;\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.obj.divinner = this.myref.current;\n    this.obj.divinner.style.left = window.innerWidth - 5 + \"px\";\n    this.obj.getNews();\n    setInterval(this.obj.getNews, 1000);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.myref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    });\n  }\n\n}\n\nexport default rss;","map":{"version":3,"sources":["D:/react/bookstore/src/components/Rss.js"],"names":["React","Component","ReactDOM","rss","constructor","myref","createRef","xhr","obj","i","divinner","getNews","XMLHttpRequest","onreadystatechange","processNews","open","send","readyState","status","root","responseXML","documentElement","items","getElementsByTagName","title","link","ele","document","createElement","innerHTML","firstChild","nodeValue","href","eled","appendChild","className","console","log","componentDidMount","current","style","left","window","innerWidth","setInterval","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,WAArB;;AAEA,MAAMC,GAAN,SAAkBF,SAAlB,CAA4B;AACxBG,EAAAA,WAAW,GAAG;AACZ;AACA,SAAKC,KAAL,GAAaL,KAAK,CAACM,SAAN,EAAb;AACA,SAAKC,GAAL,GAAW,EAAX;AACA,SAAKC,GAAL,GAAW;AACVC,MAAAA,CAAC,EAAC,CADQ;AAETC,MAAAA,QAAQ,EAAE,EAFD;AAGTC,MAAAA,OAAO,EAAG,MACV;AACI,aAAKJ,GAAL,GAAW,IAAIK,cAAJ,EAAX;AACA,aAAKL,GAAL,CAASM,kBAAT,GAA+B,KAAKL,GAAL,CAASM,WAAxC,CAFJ,CAGI;;AACA,aAAKP,GAAL,CAASQ,IAAT,CAAc,KAAd,EAAoB,8EAApB,EAAmG,IAAnG;AACA,aAAKR,GAAL,CAASS,IAAT;AACH,OAVQ;AAWTF,MAAAA,WAAW,EAAG,MACd;AACI,YAAI,KAAKP,GAAL,CAASU,UAAT,IAAuB,CAAvB,IAA4B,KAAKV,GAAL,CAASW,MAAT,IAAmB,GAAnD,EACA;AACI,cAAIC,IAAI,GAAG,KAAKZ,GAAL,CAASa,WAAT,CAAqBC,eAAhC;AACA,cAAIC,KAAK,GAAGH,IAAI,CAACI,oBAAL,CAA0B,MAA1B,EAAkCd,CAAlC,CAAZ;AACA,cAAIe,KAAK,GAAGL,IAAI,CAACI,oBAAL,CAA0B,OAA1B,EAAmCd,CAAnC,CAAZ;AACA,cAAIgB,IAAI,GAAGN,IAAI,CAACI,oBAAL,CAA0B,MAA1B,EAAkCd,CAAlC,CAAX;AACA,cAAIiB,GAAG,GAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAV;AACAF,UAAAA,GAAG,CAACG,SAAJ,GAAgBL,KAAK,CAACM,UAAN,CAAiBC,SAAjC;AACAL,UAAAA,GAAG,CAACM,IAAJ,GAAWP,IAAI,CAACK,UAAL,CAAgBC,SAA3B;AAEA,cAAIE,IAAI,GAAGN,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAX;AACAK,UAAAA,IAAI,CAACC,WAAL,CAAiBR,GAAjB;AACAO,UAAAA,IAAI,CAACE,SAAL,GAAiB,SAAjB;AACAC,UAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AAEA,eAAKzB,GAAL,CAASE,QAAT,CAAkBmB,SAAlB,GAA8B,EAA9B;AACA,eAAKrB,GAAL,CAASE,QAAT,CAAkBwB,WAAlB,CAA8BD,IAA9B;AACH;;AACFxB,QAAAA,CAAC,GAAGA,CAAC,GAAC,CAAN;AACF;AAhCQ,KAAX;AAkCD;;AAGD6B,EAAAA,iBAAiB,GAAG;AAChB,SAAK9B,GAAL,CAASE,QAAT,GAAoB,KAAKL,KAAL,CAAWkC,OAA/B;AACA,SAAK/B,GAAL,CAASE,QAAT,CAAkB8B,KAAlB,CAAwBC,IAAxB,GAA+BC,MAAM,CAACC,UAAP,GAAoB,CAApB,GAAwB,IAAvD;AACA,SAAKnC,GAAL,CAASG,OAAT;AACAiC,IAAAA,WAAW,CAAC,KAAKpC,GAAL,CAASG,OAAV,EAAkB,IAAlB,CAAX;AACH;;AAEDkC,EAAAA,MAAM,GAAG;AACP,wBACM;AAAK,MAAA,GAAG,EAAI,KAAKxC,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADN;AAID;;AAtDuB;;AAyD5B,eAAeF,GAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport ReactDOM from 'react-dom';\r\n\r\nclass rss extends Component {\r\n    constructor() {\r\n      super();\r\n      this.myref = React.createRef();\r\n      this.xhr = {}\r\n      this.obj = {\r\n      \ti:0,\r\n        divinner: {},\r\n        getNews : () =>\r\n        {\r\n            this.xhr = new XMLHttpRequest();\r\n            this.xhr.onreadystatechange =  this.obj.processNews;\r\n            // Using a cors proxy to access the rss feed\r\n            this.xhr.open(\"GET\",\"https://cors-anywhere.herokuapp.com/https://blog.bookstellyouwhy.com/rss.xml\",true);\r\n            this.xhr.send();\r\n        },\r\n        processNews : () =>\r\n        {\r\n            if (this.xhr.readyState == 4 && this.xhr.status == 200)\r\n            {\r\n                let root = this.xhr.responseXML.documentElement;\r\n                let items = root.getElementsByTagName(\"item\")[i];\r\n                let title = root.getElementsByTagName(\"title\")[i];\r\n                let link = root.getElementsByTagName(\"link\")[i];\r\n                let ele = document.createElement(\"a\");\r\n                ele.innerHTML = title.firstChild.nodeValue;\r\n                ele.href = link.firstChild.nodeValue;\r\n               \r\n                let eled = document.createElement(\"div\");\r\n                eled.appendChild(ele);\r\n                eled.className = \"marquee\";\r\n                console.log(eled);\r\n\r\n                this.obj.divinner.innerHTML = \"\";\r\n                this.obj.divinner.appendChild(eled);\r\n            }\r\n           i = i+1\r\n        }\r\n     };\r\n    }\r\n \r\n\r\n    componentDidMount() {\r\n        this.obj.divinner = this.myref.current;\r\n        this.obj.divinner.style.left = window.innerWidth - 5 + \"px\";\r\n        this.obj.getNews();\r\n        setInterval(this.obj.getNews,1000);\r\n    }\r\n \r\n    render() {\r\n      return (\r\n            <div ref = {this.myref}>\r\n            </div>\r\n      );\r\n    }\r\n  }\r\n\r\nexport default rss;"]},"metadata":{},"sourceType":"module"}