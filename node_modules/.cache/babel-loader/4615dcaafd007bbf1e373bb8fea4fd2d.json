{"ast":null,"code":"var _jsxFileName = \"D:\\\\react\\\\bookstore\\\\src\\\\components\\\\Rss.js\";\nimport React from \"react\";\n\nclass Rss extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      recentInfo: {\n        name: '',\n        url: '',\n        description: ''\n      }\n    };\n  }\n\n  expand(ev) {\n    const main = ev.target.id.substring(0, ev.target.id.length - 2);\n    const dots = document.getElementById(\"dots\" + main);\n    const more = document.getElementById(\"more\" + main);\n    const bt = document.getElementById(main + \"bt\");\n\n    if (dots.style.display === \"none\") {\n      dots.style.display = \"inline\";\n      more.style.display = \"none\";\n      bt.textContent = \"Read more\";\n    } else {\n      dots.style.display = \"none\";\n      more.style.display = \"inline\";\n      bt.textContent = \"Read less\";\n    }\n  }\n\n  RssFetchData() {\n    var request = new XMLHttpRequest();\n    var feed = document.getElementById(\"feed\");\n    feed.innerHTML = \"\";\n\n    request.onreadystatechange = () => {\n      if (request.readyState == 4 && request.status == 200) {\n        var myObj = JSON.parse(request.responseText);\n\n        for (var i = 0; i < myObj.items.length; i++) {\n          console.log(myObj.items[i].title);\n          console.log(myObj.items[i].link);\n          this.state.recentInfo.name = myObj.items[i].title;\n          this.state.recentInfo.url = myObj.items[i].link;\n          this.state.recentInfo.description = myObj.items[i].description;\n          var anchor = document.createElement(\"a\");\n          anchor.align = \"center\";\n          anchor.innerHTML = this.state.recentInfo.name;\n          anchor.class = \"a\";\n          anchor.href = this.state.recentInfo.url;\n          var br = document.createElement(\"br\");\n          var desc = document.createElement(\"p\");\n          var desc1 = this.state.recentInfo.description;\n\n          if (desc1.length > 200) {\n            const paraContent = desc1.substring(0, 200);\n            const dots = `<span id=dotsdesc1${i} style={{\"display:inline\"}}>...</span>`;\n            const more = `<span id=moredesc1${i} style={{\"display:none\"}}>${desc1.substring(201, desc1.length)}</span>`;\n            const bt = `<button onClick=\"expand(event)\" id=desc1${i}bt>Read more</button>`;\n            desc1 = paraContent + dots + more + bt;\n          }\n\n          desc.innerHTML = desc1;\n          feed.appendChild(br);\n          feed.appendChild(anchor);\n          feed.appendChild(desc);\n        }\n      }\n    };\n\n    request.open(\"GET\", \"https://api.rss2json.com/v1/api.json?rss_url=https%3A%2F%2Fblog.bookstellyouwhy.com%2Frss.xml\", true);\n    request.send();\n  }\n\n  componentDidMount() {\n    {\n      this.RssFetchData();\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"feed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 4\n      }\n    });\n  }\n\n}\n\nexport default Rss;","map":{"version":3,"sources":["D:/react/bookstore/src/components/Rss.js"],"names":["React","Rss","Component","constructor","state","recentInfo","name","url","description","expand","ev","main","target","id","substring","length","dots","document","getElementById","more","bt","style","display","textContent","RssFetchData","request","XMLHttpRequest","feed","innerHTML","onreadystatechange","readyState","status","myObj","JSON","parse","responseText","i","items","console","log","title","link","anchor","createElement","align","class","href","br","desc","desc1","paraContent","appendChild","open","send","componentDidMount","render"],"mappings":"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","sourcesContent":["import React from \"react\"\r\n\r\nclass Rss extends React.Component{\r\n\tconstructor(){\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\trecentInfo: {\r\n\t\t\t\tname: '',\r\n\t\t\t\turl: '',\r\n\t\t\t\tdescription: ''\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\texpand(ev) {\r\n        const main = ev.target.id.substring(0, ev.target.id.length - 2);\r\n        const dots = document.getElementById(\"dots\" + main);\r\n        const more = document.getElementById(\"more\" + main);\r\n        const bt = document.getElementById(main + \"bt\");\r\n\r\n        if (dots.style.display === \"none\") {\r\n            dots.style.display = \"inline\";\r\n            more.style.display = \"none\";\r\n            bt.textContent = \"Read more\";\r\n        } else {\r\n            dots.style.display = \"none\";\r\n            more.style.display = \"inline\";\r\n            bt.textContent = \"Read less\";\r\n        }\r\n    }\r\n\r\n\tRssFetchData(){\r\n\t\tvar request = new XMLHttpRequest()\r\n\t\tvar feed = document.getElementById(\"feed\")\r\n\t\tfeed.innerHTML = \"\"\r\n\t\trequest.onreadystatechange = () => {\r\n\t\t\tif(request.readyState == 4 && request.status == 200){\r\n\t\t\t\tvar myObj = JSON.parse(request.responseText);\r\n\t\t\t\tfor (var i=0; i < myObj.items.length; i++) {\r\n\t\t\t\t\tconsole.log(myObj.items[i].title)\r\n\t\t\t\t\tconsole.log(myObj.items[i].link)\r\n\r\n\t        \t\tthis.state.recentInfo.name = myObj.items[i].title\r\n\t          \t\tthis.state.recentInfo.url = myObj.items[i].link\r\n\t          \t\tthis.state.recentInfo.description = myObj.items[i].description\r\n\t        \t\t\t \r\n\t      \t\t\tvar anchor = document.createElement(\"a\")\r\n\t      \t\t\tanchor.align = \"center\"\r\n\t      \t\t\tanchor.innerHTML = this.state.recentInfo.name\r\n\t      \t\t\tanchor.class = \"a\"\r\n\t      \t\t\tanchor.href = this.state.recentInfo.url\r\n\t      \t\t\tvar br = document.createElement(\"br\")\r\n\r\n\t      \t\t\tvar desc = document.createElement(\"p\")\r\n\t      \t\t\tvar desc1 = this.state.recentInfo.description\r\n\t      \t\t\tif (desc1.length > 200) {\r\n                            \tconst paraContent = desc1.substring(0, 200);\r\n                           \t\tconst dots = `<span id=dotsdesc1${i} style={{\"display:inline\"}}>...</span>`;\r\n                           \t\tconst more = `<span id=moredesc1${i} style={{\"display:none\"}}>${desc1.substring(\r\n                                \t\t201,\r\n                                \t\tdesc1.length\r\n                            \t\t)}</span>`;\r\n                            \tconst bt = `<button onClick=\"expand(event)\" id=desc1${i}bt>Read more</button>`;\r\n                            \tdesc1 = paraContent + dots + more + bt;\r\n                        \t}\r\n                    desc.innerHTML = desc1;\r\n\t      \t\t\tfeed.appendChild(br)\r\n\t      \t\t\tfeed.appendChild(anchor)\r\n\t      \t\t\tfeed.appendChild(desc)\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\trequest.open(\"GET\", \"https://api.rss2json.com/v1/api.json?rss_url=https%3A%2F%2Fblog.bookstellyouwhy.com%2Frss.xml\", true);\r\n\t    \trequest.send();\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n    \t{this.RssFetchData()}\r\n  \t}\r\n\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<div id=\"feed\"></div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Rss"]},"metadata":{},"sourceType":"module"}