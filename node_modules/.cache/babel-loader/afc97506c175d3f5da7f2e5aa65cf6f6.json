{"ast":null,"code":"var _jsxFileName = \"D:\\\\react\\\\bookstore\\\\src\\\\components\\\\Rss.js\";\nimport React, { Component } from \"react\";\nimport ReactDOM from 'react-dom';\n\nclass rss extends Component {\n  constructor() {\n    super();\n    this.myref = React.createRef();\n    this.xhr = {};\n    this.obj = {\n      divinner: {},\n      getNews: () => {\n        this.xhr = new XMLHttpRequest();\n        this.xhr.onreadystatechange = this.obj.processNews; // Using a cors proxy to access the rss feed\n\n        this.xhr.open(\"GET\", \"https://cors-anywhere.herokuapp.com/https://blog.bookstellyouwhy.com/rss.xml\", true);\n        this.xhr.send();\n      },\n      processNews: () => {\n        if (this.xhr.readyState == 4 && this.xhr.status == 200) {\n          let root = this.xhr.responseXML.documentElement;\n          let items = root.getElementsByTagName(\"item\")[0];\n          let title = root.getElementsByTagName(\"title\")[0];\n          let link = root.getElementsByTagName(\"link\")[0];\n          let ele = document.createElement(\"a\");\n          ele.innerHTML = title.firstChild.nodeValue;\n          ele.href = link.firstChild.nodeValue;\n          let eled = document.createElement(\"div\");\n          eled.appendChild(ele);\n          eled.className = \"marquee\";\n          console.log(eled);\n          this.obj.divinner.innerHTML = \"\";\n          this.obj.divinner.appendChild(eled);\n        }\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.obj.divinner = this.myref.current;\n    this.obj.divinner.style.left = window.innerWidth - 5 + \"px\";\n    this.obj.getNews();\n    setInterval(this.obj.getNews, 10000);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.myref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }\n    });\n  }\n\n}\n\nexport default rss;","map":{"version":3,"sources":["D:/react/bookstore/src/components/Rss.js"],"names":["React","Component","ReactDOM","rss","constructor","myref","createRef","xhr","obj","divinner","getNews","XMLHttpRequest","onreadystatechange","processNews","open","send","readyState","status","root","responseXML","documentElement","items","getElementsByTagName","title","link","ele","document","createElement","innerHTML","firstChild","nodeValue","href","eled","appendChild","className","console","log","componentDidMount","current","style","left","window","innerWidth","setInterval","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,WAArB;;AAEA,MAAMC,GAAN,SAAkBF,SAAlB,CAA4B;AACxBG,EAAAA,WAAW,GAAG;AACZ;AACA,SAAKC,KAAL,GAAaL,KAAK,CAACM,SAAN,EAAb;AACA,SAAKC,GAAL,GAAW,EAAX;AACA,SAAKC,GAAL,GAAW;AACTC,MAAAA,QAAQ,EAAE,EADD;AAETC,MAAAA,OAAO,EAAG,MACV;AACI,aAAKH,GAAL,GAAW,IAAII,cAAJ,EAAX;AACA,aAAKJ,GAAL,CAASK,kBAAT,GAA+B,KAAKJ,GAAL,CAASK,WAAxC,CAFJ,CAGI;;AACA,aAAKN,GAAL,CAASO,IAAT,CAAc,KAAd,EAAoB,8EAApB,EAAmG,IAAnG;AACA,aAAKP,GAAL,CAASQ,IAAT;AACH,OATQ;AAUTF,MAAAA,WAAW,EAAG,MACd;AACI,YAAI,KAAKN,GAAL,CAASS,UAAT,IAAuB,CAAvB,IAA4B,KAAKT,GAAL,CAASU,MAAT,IAAmB,GAAnD,EACA;AACI,cAAIC,IAAI,GAAG,KAAKX,GAAL,CAASY,WAAT,CAAqBC,eAAhC;AACA,cAAIC,KAAK,GAAGH,IAAI,CAACI,oBAAL,CAA0B,MAA1B,EAAkC,CAAlC,CAAZ;AACA,cAAIC,KAAK,GAAGL,IAAI,CAACI,oBAAL,CAA0B,OAA1B,EAAmC,CAAnC,CAAZ;AACA,cAAIE,IAAI,GAAGN,IAAI,CAACI,oBAAL,CAA0B,MAA1B,EAAkC,CAAlC,CAAX;AACA,cAAIG,GAAG,GAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAV;AACAF,UAAAA,GAAG,CAACG,SAAJ,GAAgBL,KAAK,CAACM,UAAN,CAAiBC,SAAjC;AACAL,UAAAA,GAAG,CAACM,IAAJ,GAAWP,IAAI,CAACK,UAAL,CAAgBC,SAA3B;AAEA,cAAIE,IAAI,GAAGN,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAX;AACAK,UAAAA,IAAI,CAACC,WAAL,CAAiBR,GAAjB;AACAO,UAAAA,IAAI,CAACE,SAAL,GAAiB,SAAjB;AACAC,UAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AAEA,eAAKxB,GAAL,CAASC,QAAT,CAAkBmB,SAAlB,GAA8B,EAA9B;AACA,eAAKpB,GAAL,CAASC,QAAT,CAAkBwB,WAAlB,CAA8BD,IAA9B;AACH;AACJ;AA9BQ,KAAX;AAgCD;;AAGDK,EAAAA,iBAAiB,GAAG;AAChB,SAAK7B,GAAL,CAASC,QAAT,GAAoB,KAAKJ,KAAL,CAAWiC,OAA/B;AACA,SAAK9B,GAAL,CAASC,QAAT,CAAkB8B,KAAlB,CAAwBC,IAAxB,GAA+BC,MAAM,CAACC,UAAP,GAAoB,CAApB,GAAwB,IAAvD;AACA,SAAKlC,GAAL,CAASE,OAAT;AACAiC,IAAAA,WAAW,CAAC,KAAKnC,GAAL,CAASE,OAAV,EAAkB,KAAlB,CAAX;AACH;;AAEDkC,EAAAA,MAAM,GAAG;AACP,wBACM;AAAK,MAAA,GAAG,EAAI,KAAKvC,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADN;AAID;;AApDuB;;AAuD5B,eAAeF,GAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport ReactDOM from 'react-dom';\r\n\r\nclass rss extends Component {\r\n    constructor() {\r\n      super();\r\n      this.myref = React.createRef();\r\n      this.xhr = {}\r\n      this.obj = {\r\n        divinner: {},\r\n        getNews : () =>\r\n        {\r\n            this.xhr = new XMLHttpRequest();\r\n            this.xhr.onreadystatechange =  this.obj.processNews;\r\n            // Using a cors proxy to access the rss feed\r\n            this.xhr.open(\"GET\",\"https://cors-anywhere.herokuapp.com/https://blog.bookstellyouwhy.com/rss.xml\",true);\r\n            this.xhr.send();\r\n        },\r\n        processNews : () =>\r\n        {\r\n            if (this.xhr.readyState == 4 && this.xhr.status == 200)\r\n            {\r\n                let root = this.xhr.responseXML.documentElement;\r\n                let items = root.getElementsByTagName(\"item\")[0];\r\n                let title = root.getElementsByTagName(\"title\")[0];\r\n                let link = root.getElementsByTagName(\"link\")[0];\r\n                let ele = document.createElement(\"a\");\r\n                ele.innerHTML = title.firstChild.nodeValue;\r\n                ele.href = link.firstChild.nodeValue;\r\n               \r\n                let eled = document.createElement(\"div\");\r\n                eled.appendChild(ele);\r\n                eled.className = \"marquee\";\r\n                console.log(eled);\r\n\r\n                this.obj.divinner.innerHTML = \"\";\r\n                this.obj.divinner.appendChild(eled);\r\n            }\r\n        }\r\n     };\r\n    }\r\n \r\n\r\n    componentDidMount() {\r\n        this.obj.divinner = this.myref.current;\r\n        this.obj.divinner.style.left = window.innerWidth - 5 + \"px\";\r\n        this.obj.getNews();\r\n        setInterval(this.obj.getNews,10000);\r\n    }\r\n \r\n    render() {\r\n      return (\r\n            <div ref = {this.myref}>\r\n            </div>\r\n      );\r\n    }\r\n  }\r\n\r\nexport default rss;"]},"metadata":{},"sourceType":"module"}